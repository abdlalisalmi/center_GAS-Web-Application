{% load static %}
<!doctype html>
<html lang="ar" dir="rtl">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Custom CSS-->
        <link href="{% static 'custom/app.css' %}" rel="stylesheet">
        <!-- Bootstrap CSS -->
        <link href="{% static 'bootstrap5/css/bootstrap.rtl.min.css' %}" rel="stylesheet">
        <!-- Bootstrap ICONS -->
        <link href="{% static 'bootstrap5/icons/bootstrap-icons.css' %}" rel="stylesheet">

        <title>{% block title %}مركز توجيه ومساعدة المعاقين{% endblock title %}</title>
    </head>
    <body>
        {% block body %}

            <div class="container-fluid header" style="background-image: url({% static 'images/background.png' %});">
                <div class="morocco-logo">
                    <img src="{% static 'images/morocco_logo.png' %}" width="65px"/>
                    <p>المملكة المغربية</p>
                </div>
                <a class="title" href="/">
                    المندوبية الإقليمية للتعاون الوطني الرحامنة
                    <br>
                    مركز توجيه ومساعدة الأشخاص في وضعية إعاقة
                    <br>
                    إبن جرير
                </a>
                <div class="morocco-logo">
                    {% if request.user.is_authenticated %}
                        <a class="logout" data-bs-toggle="modal" data-bs-target="#logout">
                            تسجيل الخروج
                            <i class="bi bi-box-arrow-left"></i>
                        </a>
                        {{request.user}}
                        <!-- Delete association -->
                        <div class="modal fade" id="logout" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered">
                                <div class="modal-content bg-transparent border-0">
                                    <div class="logout-modal">
                                        <div class="modal-header">
                                            هل فعلا تريد تسجيل الخروج
                                        </div>
                                        <div class="modal-body">
                                            <div class="row justify-content-center">
                                                <div class="col-12 text-center m-4">
                                                    <a href="{% url 'logout' %}" class="mybtn rbtn" >تسجيل الخروج   </a>
                                                    <a  class="mybtn gbtn" data-bs-dismiss="modal">إلغاء</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% else %}
                    <img src="{% static 'images/morocco_logo.png' %}" width="65px"/>
                    <p>المملكة المغربية</p>
                    {% endif %}
                </div>
            </div>
            

            {% block content %}{% endblock content %}

        {% endblock body %}

        <!-- Optional JavaScript; choose one of the two! -->

        <!-- Option 1: Bootstrap Bundle with Popper -->
        <script src="{% static 'bootstrap5/js/bootstrap.min.js' %}"></script>
        <script src="{% static 'custom/app.js' %}"></script>

        <!-- Option 2: Separate Popper and Bootstrap JS -->
        <!--
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js" integrity="sha384-SR1sx49pcuLnqZUnnPwx6FCym0wLsk5JZuNx2bPPENzswTNFaQU1RDvt3wT4gWFG" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.min.js" integrity="sha384-j0CNLUeiqtyaRmlzUHCPZ+Gy5fQu0dQ6eZ/xAww941Ai1SxSY+0EQqNXNE6DZiVc" crossorigin="anonymous"></script>
        -->
        <script>
            document.addEventListener("DOMContentLoaded", function() {
                var elements = document.getElementsByTagName("INPUT");
                for (var i = 0; i < elements.length; i++) {
                    elements[i].oninvalid = function(e) {
                        e.target.setCustomValidity("");
                        if (!e.target.validity.valid) {
                            e.target.setCustomValidity("المرجو ملئ جميع المعلومات بشكل صحيح");
                        }
                    };
                    elements[i].oninput = function(e) {
                        e.target.setCustomValidity("");
                    };
                }
            })
        </script>
    </body>
</html>